{"ast":null,"code":"import { user } from '../store/auth';\nimport store from '../store/index';\nimport { setAllPosts } from '../store/allPosts';\nimport { setMyPosts } from '../store/myPosts';\nimport axios from 'axios';\nexport const mainUrl = \"http://localhost:5000\";\nexport const defaultUserImageUrl = \"https://firebasestorage.googleapis.com/v0/b/eidos-95e1f.appspot.com/o/Uploads%2FUsers%2Fuserdefault.png?alt=media&token=06397d82-3dc8-4783-b110-a22b5d68e92e\";\nexport const language = navigator.language;\nexport const setUserData = infos => {\n  store.dispatch(user({\n    id: infos.id,\n    Email: infos.Email,\n    NickName: infos.NickName,\n    Name: infos.Name,\n    Biography: infos.Biography,\n    Post: infos.Post,\n    ImageUrl: infos.ImageUrl,\n    EmailVerify: infos.EmailVerify,\n    Gender: infos.Gender,\n    Role: infos.infos\n  }));\n};\nexport const getPosts = userId => {\n  axios.get(`${mainUrl}/api/getPosts`).then(result => {\n    if (result.data.error) {\n      console.log(result.data.message);\n    } else {\n      const myPosts = result.data.posts.filter(post => post.OwnerId === userId);\n      setCurrentUserPosts([]);\n      setPosts([]);\n      setCurrentUserPosts(myPosts);\n      setPosts(result.data.posts);\n    }\n  });\n};\nexport const setPosts = posts => {\n  store.dispatch(setAllPosts(posts.reduce((posts, post) => [...posts, {\n    ...post\n  }], [])));\n};\nexport const setCurrentUserPosts = myPosts => {\n  store.dispatch(setMyPosts(myPosts.reduce((myPosts, myPost) => [...myPosts, {\n    ...myPost\n  }], [])));\n};","map":{"version":3,"names":["user","store","setAllPosts","setMyPosts","axios","mainUrl","defaultUserImageUrl","language","navigator","setUserData","infos","dispatch","id","Email","NickName","Name","Biography","Post","ImageUrl","EmailVerify","Gender","Role","getPosts","userId","get","then","result","data","error","console","log","message","myPosts","posts","filter","post","OwnerId","setCurrentUserPosts","setPosts","reduce","myPost"],"sources":["D:/JavaScript/ReactProjects/forumonline/client/src/utils/utils.js"],"sourcesContent":["\r\nimport { user } from '../store/auth';\r\nimport store from '../store/index'\r\nimport { setAllPosts } from '../store/allPosts';\r\nimport { setMyPosts } from '../store/myPosts';\r\nimport axios from 'axios'\r\n\r\nexport const mainUrl = \"http://localhost:5000\"\r\nexport const defaultUserImageUrl = \"https://firebasestorage.googleapis.com/v0/b/eidos-95e1f.appspot.com/o/Uploads%2FUsers%2Fuserdefault.png?alt=media&token=06397d82-3dc8-4783-b110-a22b5d68e92e\";\r\nexport const language = navigator.language;\r\n\r\nexport const setUserData = (infos) => {\r\n    store.dispatch(user({\r\n        id: infos.id,\r\n        Email: infos.Email,\r\n        NickName: infos.NickName,\r\n        Name: infos.Name,\r\n        Biography: infos.Biography,\r\n        Post: infos.Post,\r\n        ImageUrl: infos.ImageUrl,\r\n        EmailVerify: infos.EmailVerify,\r\n        Gender: infos.Gender,\r\n        Role: infos.infos,\r\n    }));\r\n}\r\n\r\nexport const getPosts = (userId) => {\r\n    axios.get(`${mainUrl}/api/getPosts`).then((result) => {\r\n        if (result.data.error) {\r\n            console.log(result.data.message)\r\n        } else {\r\n            const myPosts = result.data.posts.filter(post => post.OwnerId === userId);\r\n            setCurrentUserPosts([])\r\n            setPosts([]);\r\n            setCurrentUserPosts(myPosts)\r\n            setPosts(result.data.posts);\r\n        }\r\n    });\r\n}\r\n\r\nexport const setPosts = (posts) => {\r\n    store.dispatch(setAllPosts(posts.reduce((posts, post) => [...posts, { ...post }], [])))\r\n}\r\nexport const setCurrentUserPosts = (myPosts) => {\r\n    store.dispatch(setMyPosts(myPosts.reduce((myPosts, myPost) => [...myPosts, { ...myPost }], [])))\r\n}"],"mappings":"AACA,SAASA,IAAI,QAAQ,eAAe;AACpC,OAAOC,KAAK,MAAM,gBAAgB;AAClC,SAASC,WAAW,QAAQ,mBAAmB;AAC/C,SAASC,UAAU,QAAQ,kBAAkB;AAC7C,OAAOC,KAAK,MAAM,OAAO;AAEzB,OAAO,MAAMC,OAAO,GAAG,uBAAuB;AAC9C,OAAO,MAAMC,mBAAmB,GAAG,8JAA8J;AACjM,OAAO,MAAMC,QAAQ,GAAGC,SAAS,CAACD,QAAQ;AAE1C,OAAO,MAAME,WAAW,GAAIC,KAAK,IAAK;EAClCT,KAAK,CAACU,QAAQ,CAACX,IAAI,CAAC;IAChBY,EAAE,EAAEF,KAAK,CAACE,EAAE;IACZC,KAAK,EAAEH,KAAK,CAACG,KAAK;IAClBC,QAAQ,EAAEJ,KAAK,CAACI,QAAQ;IACxBC,IAAI,EAAEL,KAAK,CAACK,IAAI;IAChBC,SAAS,EAAEN,KAAK,CAACM,SAAS;IAC1BC,IAAI,EAAEP,KAAK,CAACO,IAAI;IAChBC,QAAQ,EAAER,KAAK,CAACQ,QAAQ;IACxBC,WAAW,EAAET,KAAK,CAACS,WAAW;IAC9BC,MAAM,EAAEV,KAAK,CAACU,MAAM;IACpBC,IAAI,EAAEX,KAAK,CAACA;EAChB,CAAC,CAAC,CAAC;AACP,CAAC;AAED,OAAO,MAAMY,QAAQ,GAAIC,MAAM,IAAK;EAChCnB,KAAK,CAACoB,GAAG,CAAE,GAAEnB,OAAQ,eAAc,CAAC,CAACoB,IAAI,CAAEC,MAAM,IAAK;IAClD,IAAIA,MAAM,CAACC,IAAI,CAACC,KAAK,EAAE;MACnBC,OAAO,CAACC,GAAG,CAACJ,MAAM,CAACC,IAAI,CAACI,OAAO,CAAC;IACpC,CAAC,MAAM;MACH,MAAMC,OAAO,GAAGN,MAAM,CAACC,IAAI,CAACM,KAAK,CAACC,MAAM,CAACC,IAAI,IAAIA,IAAI,CAACC,OAAO,KAAKb,MAAM,CAAC;MACzEc,mBAAmB,CAAC,EAAE,CAAC;MACvBC,QAAQ,CAAC,EAAE,CAAC;MACZD,mBAAmB,CAACL,OAAO,CAAC;MAC5BM,QAAQ,CAACZ,MAAM,CAACC,IAAI,CAACM,KAAK,CAAC;IAC/B;EACJ,CAAC,CAAC;AACN,CAAC;AAED,OAAO,MAAMK,QAAQ,GAAIL,KAAK,IAAK;EAC/BhC,KAAK,CAACU,QAAQ,CAACT,WAAW,CAAC+B,KAAK,CAACM,MAAM,CAAC,CAACN,KAAK,EAAEE,IAAI,KAAK,CAAC,GAAGF,KAAK,EAAE;IAAE,GAAGE;EAAK,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;AAC3F,CAAC;AACD,OAAO,MAAME,mBAAmB,GAAIL,OAAO,IAAK;EAC5C/B,KAAK,CAACU,QAAQ,CAACR,UAAU,CAAC6B,OAAO,CAACO,MAAM,CAAC,CAACP,OAAO,EAAEQ,MAAM,KAAK,CAAC,GAAGR,OAAO,EAAE;IAAE,GAAGQ;EAAO,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;AACpG,CAAC"},"metadata":{},"sourceType":"module"}