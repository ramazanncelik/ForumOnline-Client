{"ast":null,"code":"// Invoke 'strict' JavaScript mode\n'use strict';\n\nvar request = require('request');\nmodule.exports = {\n  load: function (url, callback) {\n    var $ = this;\n    var d = new Date();\n    var currentDay = d.getDate();\n    var baseUrl = \"https://is.gd/create.php?format=simple&url=\";\n    if (currentDay <= 31) {\n      baseUrl = \"https://cdpt.in/shorten?url=\";\n    }\n    request({\n      url: baseUrl + encodeURIComponent(url),\n      json: true\n    }, function (error, response, body) {\n      if (!error && response.statusCode == 200) {\n        callback(null, body);\n      } else {\n        this.emit('error', new Error('Bad status code'));\n      }\n    });\n  },\n  short: function (url, callback) {\n    return this.load(url, callback);\n  }\n};","map":{"version":3,"names":["request","require","module","exports","load","url","callback","$","d","Date","currentDay","getDate","baseUrl","encodeURIComponent","json","error","response","body","statusCode","emit","Error","short"],"sources":["D:/JavaScript/ReactProjects/forumonline/client/node_modules/node-url-shortener/src/urlshortner.js"],"sourcesContent":["// Invoke 'strict' JavaScript mode\r\n'use strict';\r\nvar request = require('request');\r\n\r\nmodule.exports = {\r\n\tload: function(url, callback){\r\n\t\tvar $ = this;\r\n\t\tvar d = new Date();\r\n\t\tvar currentDay = d.getDate();\r\n\t\tvar baseUrl = \"https://is.gd/create.php?format=simple&url=\";\r\n\t\tif(currentDay <= 31){\r\n\t\t\tbaseUrl = \"https://cdpt.in/shorten?url=\";\r\n\t\t}\r\n\t\trequest({\r\n\t\t\turl: baseUrl+encodeURIComponent(url),\r\n\t\t\tjson: true\r\n\t\t}, function (error, response, body) {\r\n\t\t\tif (!error && response.statusCode == 200) {\r\n\t\t\t\tcallback(null, body);\r\n\t\t\t}else {\r\n\t\t\t\tthis.emit('error', new Error('Bad status code'));\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tshort: function(url, callback){\r\n\t\treturn this.load(url, callback);\r\n\t}\r\n};"],"mappings":"AAAA;AACA,YAAY;;AACZ,IAAIA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAEhCC,MAAM,CAACC,OAAO,GAAG;EAChBC,IAAI,EAAE,UAASC,GAAG,EAAEC,QAAQ,EAAC;IAC5B,IAAIC,CAAC,GAAG,IAAI;IACZ,IAAIC,CAAC,GAAG,IAAIC,IAAI,EAAE;IAClB,IAAIC,UAAU,GAAGF,CAAC,CAACG,OAAO,EAAE;IAC5B,IAAIC,OAAO,GAAG,6CAA6C;IAC3D,IAAGF,UAAU,IAAI,EAAE,EAAC;MACnBE,OAAO,GAAG,8BAA8B;IACzC;IACAZ,OAAO,CAAC;MACPK,GAAG,EAAEO,OAAO,GAACC,kBAAkB,CAACR,GAAG,CAAC;MACpCS,IAAI,EAAE;IACP,CAAC,EAAE,UAAUC,KAAK,EAAEC,QAAQ,EAAEC,IAAI,EAAE;MACnC,IAAI,CAACF,KAAK,IAAIC,QAAQ,CAACE,UAAU,IAAI,GAAG,EAAE;QACzCZ,QAAQ,CAAC,IAAI,EAAEW,IAAI,CAAC;MACrB,CAAC,MAAK;QACL,IAAI,CAACE,IAAI,CAAC,OAAO,EAAE,IAAIC,KAAK,CAAC,iBAAiB,CAAC,CAAC;MACjD;IACD,CAAC,CAAC;EACH,CAAC;EACDC,KAAK,EAAE,UAAShB,GAAG,EAAEC,QAAQ,EAAC;IAC7B,OAAO,IAAI,CAACF,IAAI,CAACC,GAAG,EAAEC,QAAQ,CAAC;EAChC;AACD,CAAC"},"metadata":{},"sourceType":"script"}